# Production Server Environment Variables
# Copy to `server/.env.production`, fill secrets, then mirror in Azure App Service.
# See docs/azure-environment-reference.md for explanations.

### Core Runtime
PORT=8080
NODE_ENV=production
HOST=0.0.0.0

### MongoDB Atlas
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/matchpod?retryWrites=true&w=majority

### Redis (Azure Cache)
ENABLE_REDIS=true
REDIS_HOST=matchpod-cache.redis.cache.windows.net
REDIS_PORT=6380
REDIS_PASSWORD=your_redis_password
REDIS_TLS=true

### JWT / Authentication
JWT_SECRET=use_a_unique_64_byte_secret
JWT_REFRESH_SECRET=use_another_unique_64_byte_secret
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=matchpod-api
JWT_AUDIENCE=matchpod-app

### Firebase Admin (OTP)
FIREBASE_ADMIN_PROJECT_ID=matchpod-18-9075d
FIREBASE_ADMIN_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_ADMIN_CLIENT_EMAIL=firebase-adminsdk@matchpod-18-9075d.iam.gserviceaccount.com

### Azure Storage
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=matchpodstorage01;AccountKey=***;EndpointSuffix=core.windows.net

### Security / Networking
CORS_ORIGIN=https://matchpod.in,https://app.matchpod.in
ENCRYPTION_SECRET=your_encryption_secret_key

### Rate Limiting
API_RATE_LIMIT=100
API_RATE_WINDOW_MS=60000
AUTH_RATE_LIMIT=5
AUTH_RATE_WINDOW_MS=900000
OTP_RATE_LIMIT=3
OTP_RATE_WINDOW_MS=600000
CHAT_RATE_LIMIT=50
CHAT_RATE_WINDOW_MS=60000
SWIPE_RATE_LIMIT=100
SWIPE_RATE_WINDOW_MS=60000

### Matching Algorithm Weights
MATCH_WEIGHT_BUDGET=0.25
MATCH_WEIGHT_LOCATION=0.20
MATCH_WEIGHT_LIFESTYLE=0.20
MATCH_WEIGHT_SCHEDULE=0.15
MATCH_WEIGHT_CLEANLINESS=0.10
MATCH_WEIGHT_PETS=0.05
MATCH_WEIGHT_GENDER=0.05

### Feature Flags
ENABLE_FIREBASE_OTP=true
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_ANALYTICS=true
ENABLE_LOGGING=true

### Monitoring & Observability
SENTRY_DSN=your_backend_sentry_dsn
APPINSIGHTS_INSTRUMENTATIONKEY=your_app_insights_key
LOG_LEVEL=info
LOG_FILE_PATH=logs/app.log
ERROR_LOG_FILE_PATH=logs/error.log
